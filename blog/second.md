# 第2章 Nginx的配置

> 1. nginx采用master-worker机制，master专注管理worker进程；worker进程数量应该与cpu数量持平，减少进程切换
>
> 2. nginx配置的通用语法：
>
>    > a. 语法格式：配置项名 配置项1 配置项2 ……；
>    >
>    > b. 注释格式：#注释；
>    >
>    > c. 单位：
>    >
>    > > A. 大小单位：k，m
>    > >
>    > > B. 时间单位：ms，s，m，h，d，w（周），M（月）
>    >
>    > d. 大部分模块都必须在nginx.conf中读取某个配置项之后才会在运行时启用。例如，只有当配置 ``` http{···}```这个配置项时，ngx_http_module模块才会在Nginx中启用
>
> 3. 守护进程是脱离终端并且在后台运行的进程，nginx默认以这种形式运行的
>
> 4. 几种location说明：
>
>    > a. `location = / { }`，只有当完全匹配时，才会命中
>    >
>    > b. `location ^~ /   {  }`, 当uri的前半部分命中时就会命中
>
> 5. location中root选项用于设置命中规则时访问的根目录
>
> 6. nginx设置反向代理：
>
>    > a. nginx内部会缓存http包，当接收完完整的请求之后，才会向上游服务器发送请求，以此来减少与上游服务器的连接时间，减小上游服务器向负载
>    >
>    > b. 负载均衡配置：
>    >
>    > >  `http {`
>    > >
>    > > ​	`upstream 主机名 {`
>    > >
>    > > ​	`server 10.77.145.246:8003;`
>    > >
>    > > `	}`
>    > >
>    > > `	location \ {`	
>    > >
>    > > ​	`proxy_pass http://主机名`
>    > >
>    > > `}`
>    > >
>    > > `	}`
>    > >
>    > > 